<div class="widgets">
    <ba-card title="" baCardClass="with-scroll" *ngIf="!flaghidenMain">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="input05">No. Service</label>
                    <div class="input-group">
                        <input type="text" class="form-control with-danger-addon" (blur)="servicelist.searchServiceEventOnBlur(data.kodeService)"
                            [(ngModel)]="data.kodeService" [ngModelOptions]="{standalone: true}" placeholder="< Auto Generated >">
                        <span class="input-group-btn">
                            <button class="btn btn-primary" (click)="servicelist.buttonServiceBrowseClicked()"><i class="ion-ios-search"></i></button>
                        </span>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-9">
                        <div class="form-group">
                            <label for="input01">Tanggal</label>
                            <br />
                            <p-calendar placeholder="Isi Tanggal Service Disini" dateFormat="dd-mm-yy" [(ngModel)]="data.tanggal" [ngModelOptions]="{standalone: true}"
                                [disabled]="flagTanggalDisable"></p-calendar>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group right">
                            <label for="input01">Jam masuk</label>
                            <input type="text" placeholder="XX:XX" class="form-control with-danger-addon" [(ngModel)]="data.jamMasuk" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input05" style="color: yellow">Kode / Telp Customer *</label>
                    <div class="input-group">
                        <input type="text" class="form-control with-danger-addon" (blur)="customerlist.searchCustomerEventOnBlur(data.kodeCustomer)"
                            placeholder="Isi Kode / Telepon Disini" [(ngModel)]="data.kodeCustomer" [ngModelOptions]="{standalone: true}"
                            [disabled]="!flagInput">
                        <span class="input-group-btn">
                            <button class="btn btn-warning" [disabled]="!flagInput" type="button" (click)="buttonCustomerTambahClicked()"><i class="ion-plus"></i></button>
                        </span>
                        <span class="input-group-btn">
                            <button class="btn btn-primary" [disabled]="!flagInput" (click)="customerlist.buttonCustomerBrowseClicked()"><i class="ion-ios-search"></i></button>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input01">Nama</label>
                    <input type="text" class="form-control with-danger-addon" id="input01" placeholder="XXXXXX" [(ngModel)]="data.namaCustomer"
                        [ngModelOptions]="{standalone: true}" disabled>
                </div>

                <div class="form-group">
                    <label for="input01">Alamat</label>
                    <textarea placeholder="XXXXXX" class="form-control" id="textarea01" [(ngModel)]="data.alamatCustomer" [ngModelOptions]="{standalone: true}"
                        disabled></textarea>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputFirstName">Telp</label>
                            <input type="text" class="form-control" id="inputFirstName" placeholder="XXXXXX" [(ngModel)]="data.telpCustomer" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputLastName">HP</label>
                            <input type="text" class="form-control" id="inputLastName" placeholder="XXXXXX" [(ngModel)]="data.hpCustomer" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputFirstName">Kota</label>
                            <input type="text" class="form-control" id="inputEmail" placeholder="XXXXXX" [(ngModel)]="data.kotaCustomer" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputWebsite">Zona</label>
                            <input type="text" class="form-control" id="inputWebsite" placeholder="XXXXXX" [(ngModel)]="data.zonaCustomer" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input05" style="color: yellow">Kode Barang *</label>
                    <div class="input-group">
                        <input type="text" class="form-control with-danger-addon" (blur)="baranglist.searchBarangEventOnBlur(data.kodeProduk)" placeholder="Isi Kode Barang Disini"
                            [(ngModel)]="data.kodeProduk" [ngModelOptions]="{standalone: true}" [disabled]="!flagInput">
                        <span class="input-group-btn">
                            <button class="btn btn-primary" [disabled]="!flagInput" (click)="baranglist.buttonBarangBrowseClicked()"><i class="ion-ios-search"></i></button>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input01">Nama Barang</label>
                    <input type="text" class="form-control with-danger-addon" id="input01" placeholder="XXXXXX" [(ngModel)]="data.namaProduk"
                        [ngModelOptions]="{standalone: true}" disabled>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputFirstName">Merek</label>
                            <input type="text" class="form-control" id="inputFirstName" placeholder="XXXXXX" [(ngModel)]="data.merk" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputLastName">Jenis</label>
                            <input type="text" class="form-control" id="inputLastName" placeholder="XXXXXX" [(ngModel)]="data.jenis" [ngModelOptions]="{standalone: true}"
                                disabled>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input01">No. Seri</label>
                    <input type="text" class="form-control with-danger-addon" id="input01" placeholder="Isi No. Seri Disini" [(ngModel)]="data.nomorSeri"
                        [ngModelOptions]="{standalone: true}" [disabled]="!flagInput">
                </div>

                <div class="form-group">
                    <label for="input01" style="color: yellow">Tanggal Beli *</label>
                    <br />
                    <p-calendar placeholder="Isi Tanggal Beli Disini" dateFormat="dd-mm-yy" [(ngModel)]="data.tanggalBeli" [ngModelOptions]="{standalone: true}"
                        [disabled]="!flagInput"></p-calendar>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label for="input01">Jenis Service</label>
                    <div class="input-demo radio-demo row">
                        <div class="col-md-4">
                            <label class="radio-inline custom-radio nowrap">
                                <input type="radio" [disabled]="!flagInput" name="inlineRadioOptions" id="inlineRadio1" [(ngModel)]="data.jenisService" [ngModelOptions]="{standalone: true}"  value="Internal">
                                <span>Internal</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <label class="radio-inline custom-radio nowrap">
                                <input type="radio" [disabled]="!flagInput" name="inlineRadioOptions" id="inlineRadio2" [(ngModel)]="data.jenisService" [ngModelOptions]="{standalone: true}" value="Kunjungan">
                                <span>Kunjungan</span>
                            </label>
                        </div>
                        <div class="col-md-4">
                            <label class="radio-inline custom-radio nowrap">
                                <input type="radio" [disabled]="!flagInput" name="inlineRadioOptions" id="inlineRadio3" [(ngModel)]="data.jenisService" [ngModelOptions]="{standalone: true}" value="Keliling">
                                <span>Keliling</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="input02">Status Barang</label>
                    <select class="form-control" id="exampleSelect1" [disabled]="!flagInput" (change)="onChangeStatusBarang(data.statusProduk)"
                        [(ngModel)]="data.statusProduk" [ngModelOptions]="{standalone: true}">
                        <option *ngFor="let st_brg of status_brg" [ngValue]="st_brg">{{ st_brg }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="input02">Jenis Pengaduan</label>
                    <select class="form-control" id="exampleSelect1" [disabled]="!flagInput" [(ngModel)]="data.kodePengaduan" [ngModelOptions]="{standalone: true}">
                        <option *ngFor="let list of kerusakanList" [ngValue]="list.Nama_Kerusakan">{{ list.Nama_Kerusakan }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="textarea01">Kelengkapan</label>
                    <textarea placeholder="Isi Kelengkapan Disini" [disabled]="!flagInput" class="form-control" id="textarea01" [(ngModel)]="data.kelengkapan"
                        [ngModelOptions]="{standalone: true}"></textarea>
                </div>

                <div class="form-group">
                    <label for="textarea01">Catatan</label>
                    <textarea placeholder="Isi Catatan Disini" [disabled]="!flagInput" class="form-control" id="textarea01" [(ngModel)]="data.catatan"
                        [ngModelOptions]="{standalone: true}"></textarea>
                </div>

                <div class="form-group">
                    <label for="textarea01">Nomor Nota</label>
                    <textarea placeholder="Isi Nomor Nota Disini" [disabled]="!flagInput" class="form-control" id="textarea01" [(ngModel)]="data.nomorNota"
                        [ngModelOptions]="{standalone: true}"></textarea>
                </div>

                <div class="form-group">
                    <label for="input02">Biaya Service</label>
                    <input type="text" class="form-control" id="input02" placeholder="Rp. XXX.XXX.XXX" [(ngModel)]="data.biaya" [ngModelOptions]="{standalone: true}"
                        disabled>
                </div>

                <div class="form-group">
                    <label for="input02">Assign to Bass</label>
                    <select class="form-control" id="exampleSelect1" [disabled]="!flagInput" (change)="onChange(data.assignToBass)" [(ngModel)]="data.assignToBass"
                        [ngModelOptions]="{standalone: true}">
                        <option *ngFor="let list of assignBassList" [ngValue]="list.KODE_BASS">{{ list.NAMA_BASS }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="input02">Alamat</label>
                    <input type="text" class="form-control" id="input02" [(ngModel)]="data.alamatAssignToBass" [ngModelOptions]="{standalone: true}"
                        placeholder="XXXXXXX" disabled>
                </div>

                <div class="form-group">
                    <label for="input02">Kota</label>
                    <input type="text" class="form-control" id="input02" [(ngModel)]="data.kotaAssignToBass" [ngModelOptions]="{standalone: true}"
                        placeholder="XXXXXXX" disabled>
                </div>
            </div>
        </div>
        <br />
        <button type="submit" class="btn btn-primary" [disabled]="!flagButtonInsert||!flagButtonUpdate" (click)="save()"><i class="ion-archive"></i> Save</button>
        <button type="submit" class="btn btn-primary" (click)="newData()"><i class="ion-compose"></i> New</button>
        <button type="submit" class="btn btn-primary" (click)="print()"><i class="ion-printer"></i> Print</button>
        <a type="submit" class="btn btn-primary" (click)="backToMain()"><i class="ion-reply"></i> Back to main menu</a>
    </ba-card>

    <!-- lookup child -->
    <frminputmastercustomer *ngIf="flaghidenInputCustomer" (onCancel)="onCancel($event)" (onSavedCustomer)="onSavedCustomer($event)"
        [flagUsedforTransaction]="flaghidenInputCustomer"></frminputmastercustomer>
    <servicelist #servicelist (onRowSelected)="onRowSelectedLookupService($event)" (onCancel)="onCancelLookupService($event)"
        (onHiddenMain)="onHiddenMain($event)"></servicelist>
    <customerlist #customerlist (onRowSelected)="onRowSelectedLookupCustomer($event)" (onCancel)="onCancelLookupCustomer($event)"
        (onHiddenMain)="onHiddenMain($event)"></customerlist>
    <baranglist #baranglist (onRowSelected)="onRowSelectedLookupBarang($event)" (onCancel)="onCancelLookupBarang($event)" (onHiddenMain)="onHiddenMain($event)"></baranglist>
</div>


<div id="print-section" style="display:none;">
    <p><span style="font-family: Tahoma; color: #000000; font-size: 20pt; font-weight: bold; font-style: 

normal; text-decoration: none;">Invoice Service Request</span></p>
    <table>
        <tbody>
            <tr>
                <td>&nbsp;No. Service</td>
                <td>:</td>
                <td>{{data.kodeService}}</td>
            </tr>
        </tbody>
    </table>
    <table style="width: 650px;" border="1">
        <tbody>
            <tr>
                <td>
                    <table style="width: 440px;">
                        <tbody>
                            <tr>
                                <td style="width: 120px;">Tanggal</td>
                                <td style="width: 10px;">:</td>
                                <td style="width: 100px;">{{data.tanggal}}</td>
                                <td style="width: 30px;">Jam</td>
                                <td style="width: 10px;">:</td>
                                <td style="width: 80px;">{{data.jam}}</td>
                            </tr>
                            <tr>
                                <td style="width: 100px;">Kode/Telp Customer</td>
                                <td style="width: 10px;">:</td>
                                <td style="width: 100px;">{{data.kodeCustomer}}</td>
                            </tr>
                            <tr>
                                <td>Nama</td>
                                <td>:</td>
                                <td>{{data.namaCustomer}}</td>
                            </tr>
                            <tr>
                                <td>Alamat</td>
                                <td>:</td>
                                <td colspan="4">{{data.alamatCustomer}}</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td colspan="4"></td>
                            </tr>
                            <tr>
                                <td>Telp</td>
                                <td>:</td>
                                <td>{{data.telpCustomer}}</td>
                                <td>Hp</td>
                                <td>:</td>
                                <td>{{data.hpCustomer}}</td>
                            </tr>
                            <tr>
                                <td>Kota</td>
                                <td>:</td>
                                <td>{{data.kotaCustomer}}</td>
                                <td>Zona</td>
                                <td>:</td>
                                <td>{{data.zonaCustomer}}</td>
                            </tr>
                            <tr>
                                <td>Kode Barang</td>
                                <td>:</td>
                                <td>{{data.kodeProduk}}</td>
                            </tr>
                            <tr>
                                <td>Nama Barang</td>
                                <td>:</td>
                                <td>{{data.namaProduk}}</td>
                            </tr>
                            <tr>
                                <td>>Merek</td>
                                <td>:</td>
                                <td>{{data.merk}}</td>
                                <td>>Jenis</td>
                                <td>:</td>
                                <td>{{data.jenis}}</td>
                            </tr>
                            <tr>
                                <td>Nomor Seri</td>
                                <td>:</td>
                                <td>{{data.nomorSeri}}</td>
                            </tr>
                            <tr>
                                <td>>Tanggal Beli</td>
                                <td>:</td>
                                <td>{{data.tanggalBeli}}</td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td>
                    <table style="width: 210px;">
                        <tbody>
                            <tr>
                                <td style="width: 100px;">Jenis Barang</td>
                                <td style="width: 10px;">:</td>
                                <td style="width: 100px;">{{data.jenisService}}</td>
                            </tr>
                            <tr>
                                <td>Status Barang</td>
                                <td>:</td>
                                <td>{{data.statusProduk}}</td>
                            </tr>
                            <tr>
                                <td>Jenis Penggaduan</td>
                                <td>:</td>
                                <td>{{data.kodePengaduan}}</td>
                            </tr>
                            <tr>
                                <td>Kelengkapan</td>
                                <td>:</td>
                                <td>{{data.kelengkapan}}</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>Biaya Service</td>
                                <td>:</td>
                                <td>Rp. {{data.biaya}}}</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<p-confirmDialog width="425 " style="color: black; font-weight: bold; " appendTo="body"></p-confirmDialog>